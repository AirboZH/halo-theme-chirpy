import{c as k}from"./jquery.js";var M={exports:{}},H,I;function U(){return I||(I=1,H={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollOffset:0}),H}var O,_;function z(){return _||(_=1,O=function(e){var m=[].forEach,c=[].some,h=document.body,t,f=!0,d=" ";function y(n,l){var a=l.appendChild(C(n));if(n.children.length){var u=r(n.isCollapsed);n.children.forEach(function(S){y(S,u)}),a.appendChild(u)}}function L(n,l){var a=!1,u=r(a);if(l.forEach(function(S){y(S,u)}),t=n||t,t!==null)return t.firstChild&&t.removeChild(t.firstChild),l.length===0?t:t.appendChild(u)}function C(n){var l=document.createElement("li"),a=document.createElement("a");return e.listItemClass&&l.setAttribute("class",e.listItemClass),e.onClick&&(a.onclick=e.onClick),e.includeTitleTags&&a.setAttribute("title",n.textContent),e.includeHtml&&n.childNodes.length?m.call(n.childNodes,function(u){a.appendChild(u.cloneNode(!0))}):a.textContent=n.textContent,a.setAttribute("href",e.basePath+"#"+n.id),a.setAttribute("class",e.linkClass+d+"node-name--"+n.nodeName+d+e.extraLinkClasses),l.appendChild(a),l}function r(n){var l=e.orderedList?"ol":"ul",a=document.createElement(l),u=e.listClass+d+e.extraListClasses;return n&&(u=u+d+e.collapsibleClass,u=u+d+e.isCollapsedClass),a.setAttribute("class",u),a}function s(){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var n;n=document.querySelector(e.scrollContainer).scrollTop}else n=document.documentElement.scrollTop||h.scrollTop;var l=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=t.offsetTop),n>e.fixedSidebarOffset?l.className.indexOf(e.positionFixedClass)===-1&&(l.className+=d+e.positionFixedClass):l.className=l.className.split(d+e.positionFixedClass).join("")}function o(n){var l=0;return n!==null&&(l=n.offsetTop,e.hasInnerContainers&&(l+=o(n.offsetParent))),l}function p(n){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var l;l=document.querySelector(e.scrollContainer).scrollTop}else l=document.documentElement.scrollTop||h.scrollTop;e.positionFixedSelector&&s();var a=n,u;if(f&&t!==null&&a.length>0){c.call(a,function(E,q){if(o(E)>l+e.headingsOffset+10){var B=q===0?q:q-1;return u=a[B],!0}else if(q===a.length-1)return u=a[a.length-1],!0});var S=t.querySelector("."+e.activeLinkClass),v=t.querySelector("."+e.linkClass+".node-name--"+u.nodeName+'[href="'+e.basePath+"#"+u.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1")+'"]');if(S===v)return;var N=t.querySelectorAll("."+e.linkClass);m.call(N,function(E){E.className=E.className.split(d+e.activeLinkClass).join("")});var b=t.querySelectorAll("."+e.listItemClass);m.call(b,function(E){E.className=E.className.split(d+e.activeListItemClass).join("")}),v&&v.className.indexOf(e.activeLinkClass)===-1&&(v.className+=d+e.activeLinkClass);var T=v&&v.parentNode;T&&T.className.indexOf(e.activeListItemClass)===-1&&(T.className+=d+e.activeListItemClass);var D=t.querySelectorAll("."+e.listClass+"."+e.collapsibleClass);m.call(D,function(E){E.className.indexOf(e.isCollapsedClass)===-1&&(E.className+=d+e.isCollapsedClass)}),v&&v.nextSibling&&v.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&(v.nextSibling.className=v.nextSibling.className.split(d+e.isCollapsedClass).join("")),i(v&&v.parentNode.parentNode)}}function i(n){return n&&n.className.indexOf(e.collapsibleClass)!==-1&&n.className.indexOf(e.isCollapsedClass)!==-1?(n.className=n.className.split(d+e.isCollapsedClass).join(""),i(n.parentNode.parentNode)):n}function g(n){var l=n.target||n.srcElement;typeof l.className!="string"||l.className.indexOf(e.linkClass)===-1||(f=!1)}function x(){f=!0}return{enableTocAnimation:x,disableTocAnimation:g,render:L,updateToc:p}}),O}var w,P;function $(){return P||(P=1,w=function(m){var c=[].reduce;function h(r){return r[r.length-1]}function t(r){return+r.nodeName.toUpperCase().replace("H","")}function f(r){try{return r instanceof window.HTMLElement||r instanceof window.parent.HTMLElement}catch{return r instanceof window.HTMLElement}}function d(r){if(!f(r))return r;if(m.ignoreHiddenElements&&(!r.offsetHeight||!r.offsetParent))return null;const s=r.getAttribute("data-heading-label")||(m.headingLabelCallback?String(m.headingLabelCallback(r.textContent)):r.textContent.trim());var o={id:r.id,children:[],nodeName:r.nodeName,headingLevel:t(r),textContent:s};return m.includeHtml&&(o.childNodes=r.childNodes),m.headingObjectCallback?m.headingObjectCallback(o,r):o}function y(r,s){for(var o=d(r),p=o.headingLevel,i=s,g=h(i),x=g?g.headingLevel:0,n=p-x;n>0&&(g=h(i),!(g&&p===g.headingLevel));)g&&g.children!==void 0&&(i=g.children),n--;return p>=m.collapseDepth&&(o.isCollapsed=!0),i.push(o),i}function L(r,s){var o=s;m.ignoreSelector&&(o=s.split(",").map(function(i){return i.trim()+":not("+m.ignoreSelector+")"}));try{return r.querySelectorAll(o)}catch{return console.warn("Headers not found with selector: "+o),null}}function C(r){return c.call(r,function(o,p){var i=d(p);return i&&y(i,o.nest),o},{nest:[]})}return{nestHeadingsArray:C,selectHeadings:L}}),w}var A,F;function G(){return F||(F=1,A=function(m){var c=m.tocElement||document.querySelector(m.tocSelector);if(c&&c.scrollHeight>c.clientHeight){var h=c.querySelector("."+m.activeListItemClass);h&&(c.scrollTop=h.offsetTop-m.tocScrollOffset)}}),A}var j={},R;function Q(){if(R)return j;R=1,j.initSmoothScrolling=e;function e(c){var h=c.duration,t=c.offset,f=location.hash?L(location.href):location.href;d();function d(){document.body.addEventListener("click",r,!1);function r(s){!y(s.target)||s.target.className.indexOf("no-smooth-scroll")>-1||s.target.href.charAt(s.target.href.length-2)==="#"&&s.target.href.charAt(s.target.href.length-1)==="!"||s.target.className.indexOf(c.linkClass)===-1||m(s.target.hash,{duration:h,offset:t,callback:function(){C(s.target.hash)}})}}function y(r){return r.tagName.toLowerCase()==="a"&&(r.hash.length>0||r.href.charAt(r.href.length-1)==="#")&&(L(r.href)===f||L(r.href)+"#"===f)}function L(r){return r.slice(0,r.lastIndexOf("#"))}function C(r){var s=document.getElementById(r.substring(1));s&&(/^(?:a|select|input|button|textarea)$/i.test(s.tagName)||(s.tabIndex=-1),s.focus())}}function m(c,h){var t=window.pageYOffset,f={duration:h.duration,offset:h.offset||0,callback:h.callback,easing:h.easing||p},d=document.querySelector('[id="'+decodeURI(c).split("#").join("")+'"]')||document.querySelector('[id="'+c.split("#").join("")+'"]'),y=typeof c=="string"?f.offset+(c?d&&d.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):c,L=typeof f.duration=="function"?f.duration(y):f.duration,C,r;requestAnimationFrame(function(i){C=i,s(i)});function s(i){r=i-C,window.scrollTo(0,f.easing(r,t,y,L)),r<L?requestAnimationFrame(s):o()}function o(){window.scrollTo(0,t+y),typeof f.callback=="function"&&f.callback()}function p(i,g,x,n){return i/=n/2,i<1?x/2*i*i+g:(i--,-x/2*(i*(i-2)-1)+g)}}return j}(function(e,m){(function(c,h){e.exports=h(c)})(typeof k<"u"?k:window||k,function(c){var h=U(),t={},f={},d=z(),y=$(),L=G(),C,r,s=!!c&&!!c.document&&!!c.document.querySelector&&!!c.addEventListener;if(typeof window>"u"&&!s)return;var o,p=Object.prototype.hasOwnProperty;function i(){for(var l={},a=0;a<arguments.length;a++){var u=arguments[a];for(var S in u)p.call(u,S)&&(l[S]=u[S])}return l}function g(l,a,u){a||(a=250);var S,v;return function(){var N=u||this,b=+new Date,T=arguments;S&&b<S+a?(clearTimeout(v),v=setTimeout(function(){S=b,l.apply(N,T)},a)):(S=b,l.apply(N,T))}}function x(l){try{return l.contentElement||document.querySelector(l.contentSelector)}catch{return console.warn("Contents element not found: "+l.contentSelector),null}}function n(l){try{return l.tocElement||document.querySelector(l.tocSelector)}catch{return console.warn("TOC element not found: "+l.tocSelector),null}}return f.destroy=function(){var l=n(t);l!==null&&(t.skipRendering||l&&(l.innerHTML=""),t.scrollContainer&&document.querySelector(t.scrollContainer)?(document.querySelector(t.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(t.scrollContainer).removeEventListener("resize",this._scrollListener,!1),C&&document.querySelector(t.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),C&&document.removeEventListener("click",this._clickListener,!1)))},f.init=function(l){if(s){t=i(h,l||{}),this.options=t,this.state={},t.scrollSmooth&&(t.duration=t.scrollSmoothDuration,t.offset=t.scrollSmoothOffset,f.scrollSmooth=Q().initSmoothScrolling(t)),C=d(t),r=y(t),this._buildHtml=C,this._parseContent=r,this._headingsArray=o,f.destroy();var a=x(t);if(a!==null){var u=n(t);if(u!==null&&(o=r.selectHeadings(a,t.headingSelector),o!==null)){var S=r.nestHeadingsArray(o),v=S.nest;t.skipRendering||C.render(u,v),this._scrollListener=g(function(b){C.updateToc(o),!t.disableTocScrollSync&&L(t);var T=b&&b.target&&b.target.scrollingElement&&b.target.scrollingElement.scrollTop===0;(b&&(b.eventPhase===0||b.currentTarget===null)||T)&&(C.updateToc(o),t.scrollEndCallback&&t.scrollEndCallback(b))},t.throttleTimeout),this._scrollListener(),t.scrollContainer&&document.querySelector(t.scrollContainer)?(document.querySelector(t.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(t.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var N=null;return this._clickListener=g(function(b){t.scrollSmooth&&C.disableTocAnimation(b),C.updateToc(o),N&&clearTimeout(N),N=setTimeout(function(){C.enableTocAnimation()},t.scrollSmoothDuration)},t.throttleTimeout),t.scrollContainer&&document.querySelector(t.scrollContainer)?document.querySelector(t.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}}}},f.refresh=function(l){f.destroy(),f.init(l||this.options)},c.tocbot=f,f})})(M);
//# sourceMappingURL=tocbot.js.map

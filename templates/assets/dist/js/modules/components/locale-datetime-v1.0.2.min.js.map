{"version":3,"file":"locale-datetime-v1.0.2.min.js","sources":["../../../../../../src/js/modules/components/locale-datetime.js"],"sourcesContent":["/**\r\n * Update month/day to locale datetime\r\n *\r\n * Requirement: <https://github.com/iamkun/dayjs>\r\n */\r\n\r\n/* A tool for locale datetime */\r\nclass LocaleHelper {\r\n  static get attrTimestamp() {\r\n    return 'data-ts';\r\n  }\r\n\r\n  static get attrDateFormat() {\r\n    return 'data-df';\r\n  }\r\n\r\n  static get locale() {\r\n    return $('html').attr('lang').substring(0, 2);\r\n  }\r\n\r\n  static getTimestamp(elem) {\r\n    return Number(elem.attr(LocaleHelper.attrTimestamp)); // unix timestamp\r\n  }\r\n\r\n  static getDateFormat(elem) {\r\n    return elem.attr(LocaleHelper.attrDateFormat);\r\n  }\r\n}\r\n\r\nexport function initLocaleDatetime() {\r\n  dayjs.locale(LocaleHelper.locale);\r\n  dayjs.extend(window.dayjs_plugin_localizedFormat);\r\n\r\n  $(`[${LocaleHelper.attrTimestamp}]`).each(function () {\r\n    const date = dayjs.unix(LocaleHelper.getTimestamp($(this)));\r\n    const text = date.format(LocaleHelper.getDateFormat($(this)));\r\n    $(this).text(text);\r\n    $(this).removeAttr(LocaleHelper.attrTimestamp);\r\n    $(this).removeAttr(LocaleHelper.attrDateFormat);\r\n\r\n    // setup tooltips\r\n    const tooltip = $(this).attr('data-bs-toggle');\r\n    if (typeof tooltip === 'undefined' || tooltip !== 'tooltip') {\r\n      return;\r\n    }\r\n\r\n    const tooltipText = date.format('llll'); // see: https://day.js.org/docs/en/display/format#list-of-localized-formats\r\n    $(this).attr('data-bs-title', tooltipText);\r\n    new bootstrap.Tooltip($(this));\r\n  });\r\n}\r\n"],"names":["LocaleHelper","elem","initLocaleDatetime","date","text","tooltip","tooltipText"],"mappings":"AAOA,MAAMA,CAAa,CACjB,WAAW,eAAgB,CACzB,MAAO,SACR,CAED,WAAW,gBAAiB,CAC1B,MAAO,SACR,CAED,WAAW,QAAS,CAClB,OAAO,EAAE,MAAM,EAAE,KAAK,MAAM,EAAE,UAAU,EAAG,CAAC,CAC7C,CAED,OAAO,aAAaC,EAAM,CACxB,OAAO,OAAOA,EAAK,KAAKD,EAAa,aAAa,CAAC,CACpD,CAED,OAAO,cAAcC,EAAM,CACzB,OAAOA,EAAK,KAAKD,EAAa,cAAc,CAC7C,CACH,CAEO,SAASE,GAAqB,CACnC,MAAM,OAAOF,EAAa,MAAM,EAChC,MAAM,OAAO,OAAO,4BAA4B,EAEhD,EAAE,IAAIA,EAAa,aAAa,GAAG,EAAE,KAAK,UAAY,CACpD,MAAMG,EAAO,MAAM,KAAKH,EAAa,aAAa,EAAE,IAAI,CAAC,CAAC,EACpDI,EAAOD,EAAK,OAAOH,EAAa,cAAc,EAAE,IAAI,CAAC,CAAC,EAC5D,EAAE,IAAI,EAAE,KAAKI,CAAI,EACjB,EAAE,IAAI,EAAE,WAAWJ,EAAa,aAAa,EAC7C,EAAE,IAAI,EAAE,WAAWA,EAAa,cAAc,EAG9C,MAAMK,EAAU,EAAE,IAAI,EAAE,KAAK,gBAAgB,EAC7C,GAAI,OAAOA,EAAY,KAAeA,IAAY,UAChD,OAGF,MAAMC,EAAcH,EAAK,OAAO,MAAM,EACtC,EAAE,IAAI,EAAE,KAAK,gBAAiBG,CAAW,EACzC,IAAI,UAAU,QAAQ,EAAE,IAAI,CAAC,CACjC,CAAG,CACH"}
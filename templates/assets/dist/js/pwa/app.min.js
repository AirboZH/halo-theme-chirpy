const t=$("#notification"),n=$("#notification .toast-body>button");if("serviceWorker"in navigator){navigator.serviceWorker.register('{{ "/sw.js" | relative_url }}').then(e=>{e.waiting&&t.toast("show"),e.addEventListener("updatefound",()=>{e.installing.addEventListener("statechange",()=>{e.waiting&&navigator.serviceWorker.controller&&t.toast("show")})}),n.click(()=>{e.waiting&&e.waiting.postMessage("SKIP_WAITING"),t.toast("hide")})});let i=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{i||(window.location.reload(),i=!0)})}
